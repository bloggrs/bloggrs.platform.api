{"openapi":"3.0.0","info":{"title":"API Docs","description":"","contact":{"email":"gjergjk71@gmail.com"},"license":{"name":"Apache 2.0","url":"http://www.apache.org/licenses/LICENSE-2.0.html"},"version":"1.0.0"},"servers":[],"tags":[],"paths":{"/users":{"get":{"tags":["Users"],"security":[{"jwt_auth":[]}],"summary":"Get all users","responses":{"200":{"description":"Returns list of users","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/ApiResponse"},{"type":"object","properties":{"data":{"type":"object","properties":{"users":{"type":"array","items":{"$ref":"#/components/schemas/User"}}}}}}]}}}}}},"post":{"tags":["Users"],"summary":"Create user","responses":{"201":{"description":"Successful operation, created user, token received","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/ApiResponse"},{"type":"object","properties":{"data":{"type":"object","properties":{"user":{"$ref":"#/components/schemas/User"},"token":{"type":"string","example":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsImldhdCI6MTU5OTQ4MTQ2OH0.U9eHm-8zuCaGa776rUViOa33l22lSSRNctkfgstIz5k"}}}}}]}}}},"403":{"description":"Validation error"}},"requestBody":{"content":{"application/json":{"schema":{"type":"object","required":["first_name","last_name","email","password"],"properties":{"first_name":{"type":"string"},"last_name":{"type":"string"},"email":{"type":"string"},"password":{"type":"string"}}}}}}}},"/users/unrestricted":{"post":{"tags":["Users"],"security":[{"jwt_auth":[]}],"summary":"Create user with full access","responses":{"201":{"description":"Successful operation, created user, token received","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/ApiResponse"},{"type":"object","properties":{"data":{"type":"object","properties":{"user":{"$ref":"#/components/schemas/User"}}}}}]}}}},"403":{"description":"Validation error"}},"requestBody":{"content":{"application/json":{"schema":{"type":"object","required":["first_name","last_name","email","password"],"properties":{"first_name":{"type":"string"},"last_name":{"type":"string"},"email":{"type":"string"},"password":{"type":"string"}}}}}}}},"/users/{user_id}":{"get":{"tags":["Users"],"security":[{"jwt_auth":[]}],"summary":"Get specific user","responses":{"200":{"description":"Returns a specific user","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/ApiResponse"},{"type":"object","properties":{"data":{"type":"object","properties":{"user":{"$ref":"#/components/schemas/User"}}}}}]}}}}}},"patch":{"tags":["Users"],"security":[{"jwt_auth":[]}],"summary":"Update user","responses":{"200":{"description":"Returns a specific user","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/ApiResponse"},{"type":"object","properties":{"data":{"type":"object","properties":{"user":{"$ref":"#/components/schemas/User"}}}}}]}}}}},"requestBody":{"content":{"application/json":{"schema":{"type":"object","required":["first_name","last_name","email","password"],"properties":{"first_name":{"type":"string"},"last_name":{"type":"string"},"email":{"type":"string"},"password":{"type":"string"}}}}}}},"delete":{"tags":["Users"],"security":[{"jwt_auth":[]}],"summary":"Delete user","responses":{"204":{"description":"Returns success 204","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/ApiResponse"},{"type":"object","properties":{"code":{"type":"integer","example":204}}}]}}}}}}},"/auth":{"post":{"tags":["Auth"],"summary":"Get token with credentials"},"get":{"tags":["Auth"],"security":[{"jwt_auth":[]}],"summary":"Get auth info by token","responses":{"200":{"description":"Successful operation","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/ApiResponse"},{"type":"object","properties":{"data":{"type":"object","properties":{"user":{"type":"array","items":{"$ref":"#/components/schemas/User"}},"token":{"type":"string","example":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsImldhdCI6MTU5OTQ4MTQ2OH0.U9eHm-8zuCaGa776rUViOa33l22lSSRNctkfgstIz5k"}}}}}]}}}},"401":{"description":"Unauthorized"}}}}},"components":{"securitySchemes":{},"schemas":{"ApiResponse":{"type":"object","properties":{"message":{"type":"string","example":"success"},"code":{"type":"integer","example":200}}},"User":{"required":["id","full_name","birthday","gender","vkb_id","isAdmin","isAdvertiser"],"type":"object","properties":{"id":{"type":"integer","example":"1"},"full_name":{"type":"string","example":"John Doe"},"birthday":{"type":"string","format":"date-time","example":"2016-08-29T09:12:33.001Z"},"gender":{"type":"string","enum":["male","female"]},"isAdmin":{"type":"boolean"},"isAdvertiser":{"type":"boolean"}}}}}}